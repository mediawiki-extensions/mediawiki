{{extension
|name   = HNP
|image  =
|type   =		user rights
|hook1  =		userCan
|status =		stable
|mediawiki =	1.11
|version =		1.0.0
|update = 
|download = 
|changelog = See [http://mediawiki.googlecode.com/svn/trunk/extensions/HNP/ SVN]
|description = Provides an hierarchical namespace permissions system (aka "prefixes") to Mediawiki without changes to the base installation nor creation of new database tables.
|author = [[user:jldupont|Jean-Lou Dupont]]
}}
== Features ==
* Permission management through simple edition of a page
** <code>MediaWiki:Registry/HNP</code>
* Sysop has always all rights regardless of state of registry page
** Enables easier 'human error' management
* Prefix based namespace access with wildcards
** E.g. 'sysop group has access to all namespaces'
* Namespace dependant & Namespace Independant rights management
* No additional database tables nor changes to schema
* No mandatory patches
** Namespace dependant rights management: no patches necessary
** Namespace independant rights management: if wanted, requires a patch:
*** 'includes/User.php'
* Post-installation information always available through [[Special:Version]] page.

== Usage ==
Please see example configuration page [[{{FULLPAGENAME}}/Example|Example]].

== Notes ==
* Please read about '''''[[security issues with authorization extensions]]'''''
* Users interested in this extension might also appreciate [[Extension:BizzWiki]].

{{Pear|HNP}}

== User.php patch ==
=== Original file ===
<source lang=php>
	function isAllowed($action='') {
		if ( $action === '' )
			// In the spirit of DWIM
			return true;

		return in_array( $action, $this->getRights() );
	}
</source>
=== Patched file ===
<source lang=php>
	function isAllowed($action='', $ns = null /* addition */, $title = null /* addition */ ) 
	{
		if ( $action === '' )
			// In the spirit of DWIM
			return true;

		//  PATCH begin{{
		$result = null;
		wfRunHooks('UserIsAllowed', array( &$this, $ns, $title, &$action, &$result ) );
		if ( $result !== null )
			return $result;
		// PATCH end }}

		return in_array( $action, $this->getRights() );
	}
</source>

[[Category:Namespace extensions]]
[[Category:Edit extensions]]
[[Category:View page extensions]]
